<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chosen Palette: Calm Tech -->
    <!-- Application Structure Plan: The application is structured into five thematic, navigable sections to guide the user from a high-level concept to detailed knowledge, prioritizing an exploratory learning flow over the linear format of the original report. The structure is: 1. **介绍 (Intro):** A landing section to establish the "Hamburger Factory" analogy. 2. **流程对比 (Process Comparison):** An interactive, side-by-side view of the old and new workflows, using clickable HTML/CSS diagrams instead of static images to let users explore each step. 3. **核心优势 (Core Advantages):** A dashboard-like section with a comparison chart and feature cards to visually summarize the benefits of the new process. 4. **关键概念 (Key Concepts):** An interactive accordion/glossary for deep-diving into technical terms without overwhelming the user. 5. **学习路径 (Learning Path):** A concluding section with clear, actionable learning steps. This non-linear, task-oriented structure was chosen to empower users to learn at their own pace and focus on areas of interest, making the complex information more digestible and engaging. -->
    <!-- Visualization & Content Choices: 
        - **Process Flows:** Report's Mermaid diagrams -> Goal: Compare process complexity interactively. -> Viz: Side-by-side diagrams built with HTML/CSS divs and borders. -> Interaction: Clicking a step highlights it and shows a contextual info pop-up. -> Justification: More engaging and informative than a static diagram. -> Method: HTML/Tailwind/JS.
        - **Speed Comparison:** Report's time data (1 vs 2 mins) -> Goal: Visualize performance trade-offs. -> Viz: Bar chart. -> Interaction: Hover tooltips. -> Justification: Provides quick quantitative insight while accompanying text adds qualitative context. -> Method: Chart.js (Canvas).
        - **Core Differences Table:** Report's summary table -> Goal: Make comparison points easily scannable. -> Viz: A series of styled comparison cards. -> Interaction: Hover effects for emphasis. -> Justification: More visually appealing and mobile-friendly than a wide data table. -> Method: HTML/Tailwind.
        - **Key Concepts:** Report's list of technical terms -> Goal: Provide definitions on demand. -> Viz: An accordion component. -> Interaction: Click to expand/collapse. -> Justification: Standard UI pattern for FAQs/glossaries, keeps the interface clean. -> Method: HTML/Tailwind/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <title>交互式CI/CD流程学习应用</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; background-color: #f8fafc; }
        .nav-active { color: #2563eb; border-bottom-color: #2563eb; }
        .nav-inactive { color: #4b5563; border-bottom-color: transparent; }
        .flow-step { transition: all 0.3s ease; }
        .flow-step:hover { transform: translateY(-4px); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .concept-card.open .concept-answer { max-height: 500px; padding-top: 1rem; padding-bottom: 1rem; }
        .concept-card .concept-answer { max-height: 0; overflow: hidden; transition: all 0.5s cubic-bezier(0, 1, 0, 1); }
        .concept-card.open svg { transform: rotate(180deg); }
        .concept-card svg { transition: transform 0.3s ease; }
        .info-popup {
            transition: opacity 0.3s, transform 0.3s;
        }
    </style>
</head>
<body class="text-slate-800">

    <div id="app" class="container mx-auto px-4 py-8 max-w-7xl">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900">🚀 从入门到实践</h1>
            <p class="mt-4 text-lg text-slate-600">一个关于CI/CD流程优化的交互式学习指南</p>
        </header>

        <nav class="sticky top-0 bg-white/80 backdrop-blur-lg z-10 mb-12 border-b border-slate-200">
            <ul class="flex items-center justify-center space-x-4 sm:space-x-8 text-sm sm:text-base font-medium">
                <li><a href="#intro" class="nav-link inline-block py-4 border-b-2 transition-colors duration-300">👋 欢迎</a></li>
                <li><a href="#comparison" class="nav-link inline-block py-4 border-b-2 transition-colors duration-300">🔄 流程对比</a></li>
                <li><a href="#advantages" class="nav-link inline-block py-4 border-b-2 transition-colors duration-300">🌟 核心优势</a></li>
                <li><a href="#concepts" class="nav-link inline-block py-4 border-b-2 transition-colors duration-300">📚 关键概念</a></li>
                <li><a href="#learning" class="nav-link inline-block py-4 border-b-2 transition-colors duration-300">📖 学习路径</a></li>
            </ul>
        </nav>

        <main>
            <section id="intro" class="page-section text-center mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold mb-4 text-slate-800">欢迎来到CI/CD汉堡工厂！</h2>
                <div class="max-w-3xl mx-auto text-slate-600 leading-relaxed">
                    <p class="mb-4">你好！CI/CD（持续集成/持续部署）听起来可能很复杂，但它的核心思想很简单：将代码的构建、测试和部署过程自动化，让它变得更快速、更可靠。</p>
                    <p>为了让你更好地理解，我们将把整个流程想象成**开一家汉堡店**。在这个交互式指南中，你将看到一个手忙脚乱的“单人汉堡摊”如何升级为高效、安全的“现代化汉堡工厂”。让我们开始吧！</p>
                </div>
            </section>

            <section id="comparison" class="page-section mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-10 text-slate-800">🔄 流程对比：从作坊到工厂</h2>
                 <div class="max-w-4xl mx-auto text-center mb-10 text-slate-600">
                    <p>这里直观地展示了两种工作流程的差异。旧流程所有步骤都挤在一起，像一个人的小作坊，一步出错就全盘皆输。新流程则将“构建”和“部署”分离，像一条分工明确的流水线，更稳定、更可靠。**点击下面的步骤卡片，查看详情！**</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 relative">
                    <!-- Old Process -->
                    <div class="border-2 border-amber-400 rounded-xl p-6 bg-white shadow-lg">
                        <h3 class="text-2xl font-bold text-center mb-6 text-amber-600">之前：手忙脚乱的单人汉堡摊</h3>
                        <div class="space-y-4 relative">
                            <div class="absolute left-1/2 -translate-x-1/2 top-12 bottom-12 w-0.5 bg-amber-200"></div>
                            <div data-info="使用个人访问令牌 (PAT) 权限过大，如同给了万能钥匙，存在安全风险。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-3 shadow-sm text-center">
                                <span class="font-semibold">1. Checkout代码 (个人令牌)</span>
                            </div>
                            <div data-info="流程中需要安装和配置环境。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-3 shadow-sm text-center">
                                <span class="font-semibold">2. 安装 Python</span>
                            </div>
                            <div data-info="每次都需要配置Git用户信息，过程繁琐且容易出错。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-3 shadow-sm text-center">
                                <span class="font-semibold">3. 配置 Git 用户</span>
                            </div>
                            <div data-info="构建脚本在主流程中运行。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-3 shadow-sm text-center">
                                <span class="font-semibold">4. 运行生成脚本</span>
                            </div>
                            <div data-info="依赖第三方Action，其稳定性和安全性不受官方保障，可能成为潜在的风险点。" class="flow-step relative z-10 cursor-pointer bg-red-50 border-red-300 rounded-lg p-3 shadow-sm text-center">
                                <span class="font-semibold text-red-700">5. 使用第三方Action部署</span>
                            </div>
                        </div>
                    </div>
                    <!-- New Process -->
                    <div class="border-2 border-teal-500 rounded-xl p-6 bg-white shadow-lg">
                        <h3 class="text-2xl font-bold text-center mb-6 text-teal-600">现在：标准化的汉堡工厂</h3>
                        <div class="space-y-4">
                            <div class="bg-teal-50 border-l-4 border-teal-400 p-4 rounded-r-lg">
                                <h4 class="font-bold text-lg mb-2">Job 1: Build (构建)</h4>
                                <div class="space-y-2 relative">
                                    <div class="absolute left-4 top-5 bottom-5 w-0.5 bg-teal-200"></div>
                                    <div data-info="使用GitHub内置的、临时生成的TOKEN，权限受限，更加安全。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-2 shadow-sm pl-10">1. Checkout代码</div>
                                    <div data-info="安装构建所需的环境。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-2 shadow-sm pl-10">2. 安装 Python</div>
                                    <div data-info="运行脚本生成网站的静态文件。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-2 shadow-sm pl-10">3. 运行生成脚本</div>
                                    <div data-info="为部署到GitHub Pages做准备。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-2 shadow-sm pl-10">4. 配置Pages设置</div>
                                    <div data-info="将整个构建好的网站打包成一个'Artifact'，这是一个标准的中间产物，可供后续流程使用。" class="flow-step relative z-10 cursor-pointer bg-green-50 border-green-300 rounded-lg p-2 shadow-sm pl-10">5. 上传Artifact产物</div>
                                </div>
                            </div>
                            <div class="text-center font-bold text-slate-500 my-4">⬇️</div>
                             <div class="bg-sky-50 border-l-4 border-sky-400 p-4 rounded-r-lg">
                                <h4 class="font-bold text-lg mb-2">Job 2: Deploy (部署)</h4>
                                <div class="space-y-2 relative">
                                    <div class="absolute left-4 top-5 bottom-5 w-0.5 bg-sky-200"></div>
                                    <div data-info="等待构建Job成功完成后，下载之前上传的Artifact。" class="flow-step relative z-10 cursor-pointer bg-white border border-slate-200 rounded-lg p-2 shadow-sm pl-10">1. 下载Artifact产物</div>
                                    <div data-info="使用GitHub官方维护的Action进行部署，稳定、安全、可靠。" class="flow-step relative z-10 cursor-pointer bg-green-50 border-green-300 rounded-lg p-2 shadow-sm pl-10">2. 使用官方Action部署</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <div id="info-popup" class="info-popup fixed bottom-5 right-5 max-w-sm bg-blue-900 text-white p-4 rounded-lg shadow-2xl opacity-0 transform translate-y-10 pointer-events-none">
                <p id="popup-text"></p>
            </div>

            <section id="advantages" class="page-section mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-10 text-slate-800">🌟 核心优势：为什么新流程更好？</h2>
                <div class="max-w-4xl mx-auto text-center mb-10 text-slate-600">
                    <p>将流程分离不仅仅是结构上的变化，它在安全性、稳定性和维护性上带来了质的飞跃。下面我们通过图表和卡片来分解这些核心优势。</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="bg-white p-6 rounded-xl shadow-lg border">
                        <h3 class="text-xl font-bold text-center mb-4">速度 vs. 稳定性权衡</h3>
                        <div class="chart-container relative h-64 md:h-80 w-full max-w-md mx-auto">
                            <canvas id="speedChart"></canvas>
                        </div>
                        <p class="text-center mt-4 text-sm text-slate-600">新流程虽然在时间上略有增加（用于Artifact的上传/下载），但换来的是巨大的**安全性和稳定性**提升，这是一个非常值得的投入。</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="bg-white p-4 rounded-lg shadow border">
                            <h4 class="font-bold text-lg">认证方式</h4>
                            <p class="text-sm text-slate-500 mb-2">个人令牌 ➡️ 内置权限</p>
                            <p class="text-sm">✅ **更安全**：无需管理密钥，权限最小化。</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow border">
                            <h4 class="font-bold text-lg">部署方式</h4>
                            <p class="text-sm text-slate-500 mb-2">第三方 ➡️ 官方Action</p>
                            <p class="text-sm">✅ **更可靠**：官方维护，集成度更高。</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow border">
                            <h4 class="font-bold text-lg">Job结构</h4>
                            <p class="text-sm text-slate-500 mb-2">单一Job ➡️ 双Job分离</p>
                            <p class="text-sm">✅ **更清晰**：职责解耦，易于排错。</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow border">
                            <h4 class="font-bold text-lg">稳定性</h4>
                            <p class="text-sm text-slate-500 mb-2">易出错 ➡️ 更稳定</p>
                            <p class="text-sm">✅ **更健壮**：构建失败不会触发部署。</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="concepts" class="page-section mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-10 text-slate-800">📚 关键概念 (流水线背后的黑科技)</h2>
                <div class="max-w-3xl mx-auto text-center mb-10 text-slate-600">
                    <p>新的流水线之所以高效安全，离不开这些GitHub Actions的核心概念。点击下面的卡片，了解它们是如何工作的。</p>
                </div>
                <div class="max-w-3xl mx-auto space-y-4">
                    <div class="concept-card bg-white rounded-lg shadow-md border overflow-hidden">
                        <div class="concept-question flex justify-between items-center p-5 cursor-pointer">
                            <h3 class="text-xl font-semibold">Permissions (权限系统)</h3>
                            <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </div>
                        <div class="concept-answer px-5 text-slate-600">
                            <p class="mb-4">这就像给每个员工一张权限明确的门禁卡。我们不再使用“万能钥匙”（个人令牌），而是为流程分配临时的、权限受限的`GITHUB_TOKEN`，并明确声明所需权限，遵循“最小权限原则”。</p>
                            <pre class="bg-slate-100 text-sm p-3 rounded-md text-slate-800"><code>permissions:
  contents: read
  pages: write
  id-token: write</code></pre>
                        </div>
                    </div>
                     <div class="concept-card bg-white rounded-lg shadow-md border overflow-hidden">
                        <div class="concept-question flex justify-between items-center p-5 cursor-pointer">
                            <h3 class="text-xl font-semibold">Concurrency (并发控制)</h3>
                            <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </div>
                        <div class="concept-answer px-5 text-slate-600">
                            <p class="mb-4">这就像在工厂的“派送出口”设置一个交通管理员，确保同一时间只有一个部署任务在运行，防止版本错乱。</p>
                            <pre class="bg-slate-100 text-sm p-3 rounded-md text-slate-800"><code>concurrency:
  group: "pages"
  cancel-in-progress: false</code></pre>
                        </div>
                    </div>
                     <div class="concept-card bg-white rounded-lg shadow-md border overflow-hidden">
                        <div class="concept-question flex justify-between items-center p-5 cursor-pointer">
                            <h3 class="text-xl font-semibold">Jobs 依赖关系 (needs)</h3>
                            <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </div>
                        <div class="concept-answer px-5 text-slate-600">
                            <p class="mb-4">这是流水线上最直观的规则：“必须先做完汉堡，才能去打包”。它定义了Job之间的执行顺序，如果`build`失败，`deploy`会自动跳过。</p>
                            <pre class="bg-slate-100 text-sm p-3 rounded-md text-slate-800"><code>deploy:
  needs: build</code></pre>
                        </div>
                    </div>
                     <div class="concept-card bg-white rounded-lg shadow-md border overflow-hidden">
                        <div class="concept-question flex justify-between items-center p-5 cursor-pointer">
                            <h3 class="text-xl font-semibold">Environment (部署环境)</h3>
                            <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </div>
                        <div class="concept-answer px-5 text-slate-600">
                            <p class="mb-4">这就像为“派送”任务设立一个专门的、受监控的“发货平台”。它可以让你跟踪部署历史，设置审批规则，并方便地获取部署后的网站URL。</p>
                            <pre class="bg-slate-100 text-sm p-3 rounded-md text-slate-800"><code>environment:
  name: github-pages
  url: ${{ steps.deployment.outputs.page_url }}</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="learning" class="page-section scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-10 text-slate-800">📖 你的学习路径</h2>
                 <div class="max-w-3xl mx-auto text-center mb-10 text-slate-600">
                    <p>恭喜你！你已经理解了这个现代CI/CD流程的核心思想。接下来，你可以按照这个路径继续深入学习，成为真正的自动化专家！</p>
                </div>
                <div class="max-w-4xl mx-auto grid sm:grid-cols-2 md:grid-cols-4 gap-6 text-center">
                    <div class="bg-white p-6 rounded-lg shadow-lg border">
                        <div class="text-3xl mb-3">1️⃣</div>
                        <h3 class="font-bold text-lg mb-2">GitHub Actions 基础</h3>
                        <p class="text-sm text-slate-600">学习YAML语法、jobs, steps, actions等核心概念。</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg border">
                        <div class="text-3xl mb-3">2️⃣</div>
                        <h3 class="font-bold text-lg mb-2">GitHub Pages 部署</h3>
                        <p class="text-sm text-slate-600">理解静态站点、Artifacts和Environments。</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg border">
                        <div class="text-3xl mb-3">3️⃣</div>
                        <h3 class="font-bold text-lg mb-2">权限和安全</h3>
                        <p class="text-sm text-slate-600">研究Token区别和最小权限原则。</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg border">
                        <div class="text-3xl mb-3">4️⃣</div>
                        <h3 class="font-bold text-lg mb-2">CI/CD 概念</h3>
                        <p class="text-sm text-slate-600">思考如何设计更复杂的自动化Pipeline。</p>
                    </div>
                </div>
            </section>
        </main>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Chart.js Speed Chart
            const ctx = document.getElementById('speedChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['之前流程', '现在流程'],
                    datasets: [{
                        label: '部署耗时 (分钟)',
                        data: [1, 2],
                        backgroundColor: [
                            'rgba(251, 146, 60, 0.6)',
                            'rgba(20, 184, 166, 0.6)'
                        ],
                        borderColor: [
                            'rgba(251, 146, 60, 1)',
                            'rgba(20, 184, 166, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: '分钟'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `耗时: 约 ${context.raw} 分钟`;
                                }
                            }
                        }
                    }
                }
            });

            // Accordion for concepts
            const conceptCards = document.querySelectorAll('.concept-card');
            conceptCards.forEach(card => {
                const question = card.querySelector('.concept-question');
                question.addEventListener('click', () => {
                    card.classList.toggle('open');
                });
            });

            // Smooth scrolling and active nav link
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.page-section');

            function changeNav() {
                let index = sections.length;
                while(--index && window.scrollY + 100 < sections[index].offsetTop) {}
                
                navLinks.forEach((link) => link.classList.remove('nav-active'));
                navLinks.forEach((link) => link.classList.add('nav-inactive'));

                const activeLink = document.querySelector(`.nav-link[href="#${sections[index].id}"]`);
                if(activeLink) {
                    activeLink.classList.add('nav-active');
                    activeLink.classList.remove('nav-inactive');
                }
            }

            window.addEventListener('scroll', changeNav);
            changeNav(); // Initial check

            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
            
            // Flow step info popup
            const flowSteps = document.querySelectorAll('.flow-step');
            const popup = document.getElementById('info-popup');
            const popupText = document.getElementById('popup-text');
            let popupTimeout;

            flowSteps.forEach(step => {
                step.addEventListener('click', function() {
                    clearTimeout(popupTimeout);
                    
                    popupText.textContent = this.dataset.info;
                    popup.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none');
                    popup.classList.add('opacity-100', 'transform-none');

                    popupTimeout = setTimeout(() => {
                        popup.classList.add('opacity-0', 'translate-y-10', 'pointer-events-none');
                        popup.classList.remove('opacity-100', 'transform-none');
                    }, 4000);
                });
            });
        });
    </script>
</body>
</html>
